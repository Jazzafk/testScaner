<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href='main.css' rel="stylesheet">
</head>
<body>
  <audio id="barcodeBeep">
    <source src='beep.mp3' type="audio/mp3">
  </audio> 

  <div id="ele"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js" integrity="sha512-bCsBoYoW6zE0aja5xcIyoCDPfT27+cGr7AOCqelttLVRGay6EKGQbR6wm6SUcUGOMGXJpj+jrIpMS6i80+kZPw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>


var codes = []

var input = {
name: "Live",
type: "LiveStream",
constraints: {
  width: 640,
  height: 480,
  facingMode: "environment",
  deviceId: "7832475934759384534"
},
area: { 
  top: "0%",   
  right: "0%", 
  left: "0%",   
  bottom: "0%" 
},
singleChannel: false 
}


      Quagga.init({
  inputStream : {
    name : "Live",
    type : "LiveStream",
    target: document.querySelector('#ele')
  },
  decoder : {
    readers : ["upc_reader",]
  }
},
function (err){
    if (err) {
        console.log(err);
        return
    }

    console.log("Initialization finished. Ready to start");
  //here
});



function scan(){

  Quagga.start();
    Quagga.onDetected(function(data){
    
var pos = codes.indexOf(data.codeResult.code)
// console.log(pos)

if (pos== -1){
  codes.push(data.codeResult.code)
        playBeep() 
        console.log(data.codeResult.code)
}

    })
}


var audioSorce = document.getElementById("barcodeBeep")
function playBeep(){
audioSorce.play()
}



setInterval(function() {
  scan();
}, 2000);

  </script>








    
    

    

</body>
</html>